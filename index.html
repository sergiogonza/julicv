<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Juli√°n Sierra Salamanca ‚Äî CV Quantum Parallax</title>
  <meta name="description" content="Hoja de vida interactiva con est√©tica f√≠sica cu√°ntica: Three.js + GSAP ScrollTrigger + Mandelbrot" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#021029;
      --card:#062034;
      --accent:#44ffd6;
      --accent-2:#6b7bff;
      --muted:rgba(230,238,246,0.78);
      --glass: rgba(255,255,255,0.03);
      --white:#ffffff;
      --max-width:1100px;
      font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }
    *{box-sizing:border-box}
    html,body,#app{height:100%}
    body{
      margin:0;
      background:
        radial-gradient(1200px 600px at 10% 10%, rgba(107,123,255,0.05), transparent 10%),
        radial-gradient(800px 400px at 90% 80%, rgba(68,255,214,0.03), transparent 8%),
        linear-gradient(180deg,var(--bg), #00101a 140%);
      color:var(--white);
      overflow-x:hidden;
      -webkit-tap-highlight-color: transparent;
      -webkit-touch-callout: none;
      -ms-touch-action: manipulation;
    }

    /* Layout */
    .container{max-width:var(--max-width);margin:0 auto;padding:30px 18px}
    header{display:flex;align-items:center;justify-content:space-between;gap:18px}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:56px;height:56px;border-radius:10px;background:linear-gradient(135deg,var(--accent),var(--accent-2));display:flex;align-items:center;justify-content:center;font-weight:800;color:#001219}
    h1{font-size:20px;margin:0}
    small{display:block;color:var(--muted);font-weight:500;font-size:13px}

    nav a{color:var(--muted);text-decoration:none;margin-left:12px;font-size:13px}

    section{padding:64px 0;position:relative}
    .hero{min-height:78vh;display:flex;align-items:center}
    .hero-grid{display:grid;grid-template-columns:1fr 460px;gap:28px;align-items:center}

    .card{
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      padding:18px;border-radius:12px;
      box-shadow:0 8px 36px rgba(0,0,0,0.55);
      backdrop-filter: blur(6px);
      -webkit-backdrop-filter: blur(6px);
    }

    .three-viewport{
      position:relative;width:100%;height:360px;border-radius:10px;overflow:hidden;border:1px solid rgba(255,255,255,0.04);
      background:linear-gradient(180deg, rgba(2,10,20,0.6), rgba(0,8,16,0.4));
    }
    canvas{display:block;width:100%;height:100%;object-fit:cover}

    .parallax-dots{position:absolute;inset:0;background-image:radial-gradient(circle, rgba(255,255,255,0.02) 0.6px, transparent 0.8px);background-size:28px 28px;opacity:0.06;pointer-events:none}

    .lead{color:var(--muted);margin:8px 0 14px;font-size:15px}
    .meta{display:flex;flex-direction:column;gap:6px}
    .contact{display:flex;gap:12px;flex-wrap:wrap;color:var(--muted);font-size:14px}
    .tags{display:flex;flex-wrap:wrap;gap:8px;margin-top:12px}
    .tag{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:6px 10px;border-radius:999px;font-size:13px;color:var(--muted)}

    .btn{appearance:none;border:none;padding:10px 14px;border-radius:12px;font-weight:600;cursor:pointer;background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#001219;box-shadow:0 6px 18px rgba(43,58,82,0.6);transform:translateZ(0);}
    .quantum-btn{position:relative;overflow:hidden}
    .quantum-glow{position:absolute;inset:0;pointer-events:none;background:radial-gradient(circle at var(--x,50%) var(--y,50%), rgba(68,255,214,0.18), transparent 18%);opacity:0;transition:opacity .35s ease}

    .cv-text{white-space:pre-wrap;color:var(--muted);line-height:1.5;font-size:14px}

    footer{padding:36px 0;text-align:center;color:var(--muted);font-size:14px}

    /* Responsive adjustments */
    @media (max-width:1100px){
      .hero-grid{grid-template-columns:1fr 420px;gap:20px}
    }
    @media (max-width:980px){
      .container{padding:26px 16px}
      .hero-grid{grid-template-columns:1fr;gap:18px}
      .three-viewport{height:300px}
      header{padding-bottom:8px}
      h1{font-size:18px}
      .lead{font-size:14px}
    }
    @media (max-width:640px){
      :root{--max-width:720px}
      .container{padding:20px 14px}
      .logo{width:48px;height:48px}
      h1{font-size:16px}
      small{font-size:12px}
      .hero{min-height:60vh}
      .three-viewport{height:220px;border-radius:10px}
      .card{padding:14px}
      .lead{font-size:13px}
      .cv-text{font-size:13px}
      nav a{display:none} /* hide nav links for compact header; you can add a hamburger later */
      .contact{font-size:13px}
      .tags{gap:6px}
      .btn{flex:1;padding:10px;border-radius:10px}
      /* make CTAs full width on mobile */
      .hero .card > div:last-child{display:flex;flex-direction:column;gap:10px}
      .hero .card .btn{width:100%}
    }
    @media (max-width:420px){
      .three-viewport{height:180px}
      .logo{width:44px;height:44px}
      .container{padding:16px 12px}
      .card{padding:12px}
      .cv-text{font-size:12px}
      .tag{font-size:12px;padding:5px 8px}
      /* Optionally hide 3D on very small screens for best readability/performance */
      .three-viewport[data-hide-on-small="true"]{display:none}
    }

    /* Respect user reduced motion */
    @media (prefers-reduced-motion: reduce){
      * { transition-duration: 0.01ms !important; animation-duration: 0.01ms !important; animation-iteration-count: 1 !important; }
    }

    /* Ensure main content is above the canvas visualization */
    #app, .container { position: relative; z-index: 2; }

  </style>
</head>
<body>
  <div id="app">
    <div class="container">
      <header>
        <div class="brand">
          <div class="logo">JS</div>
          <div>
            <h1>Juli√°n Sierra Salamanca</h1>
            <small>Estudiante de maestr√≠a en matem√°ticas aplicadas ¬∑ Ingeniero f√≠sico</small>
          </div>
        </div>
        <nav aria-hidden="true">
          <a href="#about">Sobre m√≠</a>
          <a href="#experience">Experiencia</a>
          <a href="#projects">Proyectos</a>
        </nav>
      </header>

      <main>
        <!-- HERO -->
        <section class="hero" id="top">
          <div class="hero-grid">
            <div class="card" id="introCard">
              <h2 style="margin-top:0">Perfil profesional</h2>
              <p class="lead">Estudiante de maestr√≠a en matem√°ticas aplicadas e ingeniero f√≠sico con enfoque en an√°lisis estad√≠stico, visualizaci√≥n de datos, machine learning y deep-learning. Experiencia en modelado f√≠sico y programaci√≥n en Python, Matlab y herramientas de visualizaci√≥n como Power BI.</p>

              <div class="meta">
                <div class="contact">
                  <span>‚úâÔ∏è julianssvr@gmail.com</span>
                  <span>üì± 317-640-6113</span>
                  <span>üîó <a href="https://github.com/Emmaquantum" target="_blank" rel="noopener noreferrer" style="color:var(--muted)">github.com/Emmaquantum</a></span>
                </div>
                <div class="tags" aria-hidden>
                  <span class="tag">Python</span>
                  <span class="tag">Matlab</span>
                  <span class="tag">Machine Learning</span>
                  <span class="tag">Visualizaci√≥n</span>
                  <span class="tag">WebGL / Three.js</span>
                </div>
              </div>

              <div style="margin-top:18px;display:flex;gap:12px;flex-wrap:wrap">
                <div class="quantum-btn" id="downloadWrap" style="flex-shrink:0">
                  <button id="downloadBtn" class="btn" aria-label="Descargar CV en PDF">Descargar CV (PDF)</button>
                  <div class="quantum-glow" id="downloadGlow"></div>
                </div>
                <button id="contactBtn" class="btn" aria-label="Contactar">Contactar</button>
              </div>

            </div>

            <!-- Card with 3D viewport (will hide on very small screens) -->
            <div class="card" style="transform:none;">
              <div class="three-viewport" id="threeWrap" data-hide-on-small="true" aria-hidden="true">
                <canvas id="threeCanvas" data-engine="three.js r152" role="img" aria-label="Visualizaci√≥n 3D"></canvas>
                <div class="parallax-dots" aria-hidden="true"></div>
                <div id="threeOverlay" style="position:absolute;inset:0;pointer-events:none"></div>
              </div>
              <p style="margin-top:12px;color:var(--muted);font-size:13px">Superficie Toroide (T¬≤ en ‚Ñù¬≥)</p>
            </div>

          </div>
        </section>

        <!-- ABOUT -->
        <section id="about">
          <div class="card">
            <h3 class="section-title">Formaci√≥n acad√©mica</h3>
            <div class="row" style="display:flex;gap:18px;flex-wrap:wrap">
              <div class="col" style="flex:1;min-width:240px">
                <h4>Estudiante de maestr√≠a en matem√°ticas aplicadas</h4>
                <p class="cv-text">Universidad Nacional de Colombia.
Febrero, 2025 - Actualmente.</p>

                <h4>Profesional en ingenier√≠a f√≠sica</h4>
                <p class="cv-text">Universidad Nacional de Colombia.
Junio, 2015 - Noviembre, 2022.</p>
              </div>
              <div class="col" style="flex:1;min-width:240px">
                <h4>Habilidades</h4>
                <div class="tags" style="margin-top:6px">
                  <span class="tag">Python</span>
                  <span class="tag">Julia</span>
                  <span class="tag">R</span>
                  <span class="tag">Matlab</span>
                  <span class="tag">SQL</span>
                </div>
                <h4 style="margin-top:14px">Visualizaci√≥n</h4>
                <div class="tags">
                  <span class="tag">Power BI</span>
                  <span class="tag">Matplotlib</span>
                  <span class="tag">Seaborn</span>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- EXPERIENCE -->
        <section id="experience">
          <div class="card">
            <h3 class="section-title">Experiencia laboral</h3>

            <h4>Ingeniero auxiliar - calculista hidr√°ulico</h4>
            <p class="cv-text"><strong>Cesva S.A.S.</strong>
Septiembre, 2023 - Marzo, 2024.
Logros:
‚Ä¢ Realic√© el dise√±o y simulaci√≥n de sistemas de acueducto, alcantarillado y drenaje pluvial, asegurando la eficiencia hidr√°ulica y el cumplimiento normativo.
‚Ä¢ Elabor√© planos t√©cnicos y memorias de c√°lculo detalladas que sustentaron con √©xito la aprobaci√≥n de proyectos hidr√°ulicos en entornos urbanos.
‚Ä¢ Apliqu√© herramientas de simulaci√≥n como EPANET, Python y MATLAB para modelar redes complejas, mejorando la precisi√≥n y reduciendo el tiempo de dise√±o.</p>

            <h4>Asesor comercial t√©cnico</h4>
            <p class="cv-text"><strong>Techno Skills Engineering Services S.A.S.</strong>
Septiembre, 2022 - Abril, 2023.
Logros:
‚Ä¢ Brind√© asesor√≠a t√©cnica efectiva a clientes y equipos cient√≠ficos, resolviendo problemas operativos y mejorando la usabilidad de los equipos comercializados.
‚Ä¢ Elabor√© cotizaciones t√©cnico-comerciales alineadas con requerimientos espec√≠ficos, lo que contribuy√≥ a incrementar la tasa de cierre de ventas.
‚Ä¢ Impuls√© la venta consultiva mediante presentaciones t√©cnicas dirigidas a stakeholders, traduciendo las capacidades tecnol√≥gicas en valor agregado para el cliente.</p>

            <h4>Docente de Matem√°ticas y F√≠sica (varias organizaciones)</h4>
            <p class="cv-text">Ingenious S.A.S., Deming S.A.S. y Multipruebas S.A.S.
Julio, 2021 - Actualmente.
Logros:
‚Ä¢ Form√© a m√°s de 150 estudiantes de diversos niveles en matem√°ticas y f√≠sica, adaptando metodolog√≠as seg√∫n su nivel y necesidades.
‚Ä¢ Prepar√© exitosamente a estudiantes para las pruebas Saber 11 y el examen de admisi√≥n de la Universidad Nacional.</p>

            <h4>Docente de Matem√°ticas y F√≠sica</h4>
            <p class="cv-text"><strong>Limca S.A.S.</strong>
Abril, 2024 - Noviembre, 2024.
Logros:
‚Ä¢ Implement√© estrategias did√°cticas activas, mejorando la participaci√≥n y comprensi√≥n en aulas con diversos niveles acad√©micos.
‚Ä¢ Acompa√±√© procesos de formaci√≥n integral como director de grupo, fortaleciendo la convivencia escolar y el acompa√±amiento socioemocional.</p>

          </div>
        </section>

        <!-- PROJECTS -->
        <section id="projects">
          <div class="card">
            <h3 class="section-title">Experiencia acad√©mica & proyectos</h3>
            <h4>Investigador acad√©mico ‚Äî Proyecto de antorcha de plasma (MinCiencias)</h4>
            <p class="cv-text">Septiembre, 2023.
‚Ä¢ Realic√© una revisi√≥n sistem√°tica del estado del arte en literatura cient√≠fica y t√©cnica.
‚Ä¢ Desarroll√© un an√°lisis de viabilidad t√©cnica para la puesta en marcha de una antorcha de combusti√≥n, definiendo requerimientos de ejecuci√≥n y condiciones √≥ptimas de operaci√≥n.</p>

            <h4>Cursos y seminarios</h4>
            <p class="cv-text">‚Ä¢ Curso: "Ciencia de datos" ‚Äî Coursera / Universidad de los Andes (En desarrollo).
‚Ä¢ Curso: "Machine Learning" ‚Äî Coursera / DeepLearning.AI ‚Äî Mayo, 2023.</p>

            <h4>Idiomas</h4>
            <p class="cv-text">Espa√±ol: Nativo ¬∑ Ingl√©s: Intermedio (B1‚ÄìB2)</p>

          </div>
        </section>

      </main>

      <footer>
        <p>Hoja de vida interactiva ¬∑ Dise√±o: estilo f√≠sica cu√°ntica ¬∑ Juli√°n Sierra Salamanca</p>
      </footer>
    </div>
  </div>

  <!-- ---------- Scripts (CDN) ---------- -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

  <!-- Modern three import as module; expose THREE on window so initializer can use it -->
  <script type="module">
    import * as THREE from 'https://unpkg.com/three@0.152.2/build/three.module.js';
    window.THREE = THREE;
  </script>

  <!-- Robust initializer: detects WebGL, runs Three.js or Canvas2D fallback (includes Simplex inline) -->
  <script>
/* ===== SimplexNoise compact inline (evita CDN) ===== */
class SimplexNoiseInline {
  constructor(r){ r = r || Math.random; this.p = new Uint8Array(256); for (let i=0;i<256;i++) this.p[i]=i; for (let i=255;i>0;i--){ const j=Math.floor(r()*(i+1)); [this.p[i],this.p[j]]=[this.p[j],this.p[i]]; } }
  dot(g,x,y){ return g[0]*x + g[1]*y; }
  noise2D(xin, yin){
    const grad3 = [[1,1],[-1,1],[1,-1],[-1,-1],[1,0],[-1,0],[0,1],[0,-1]];
    const F2 = 0.5*(Math.sqrt(3.0)-1.0), G2 = (3.0-Math.sqrt(3.0))/6.0;
    let n0=0,n1=0,n2=0;
    let s=(xin+yin)*F2; let i=Math.floor(xin+s), j=Math.floor(yin+s);
    let t=(i+j)*G2; let X0=i-t, Y0=j-t; let x0=xin-X0, y0=yin-Y0;
    let i1= x0>y0 ? 1:0, j1 = x0>y0 ? 0:1;
    let x1 = x0 - i1 + G2, y1 = y0 - j1 + G2;
    let x2 = x0 - 1.0 + 2.0*G2, y2 = y0 - 1.0 + 2.0*G2;
    const ii = i & 255, jj = j & 255;
    const gi0 = this.p[(ii + this.p[jj]) & 255] % 8;
    const gi1 = this.p[(ii + i1 + this.p[(jj + j1) & 255]) & 255] % 8;
    const gi2 = this.p[(ii + 1 + this.p[(jj + 1) & 255]) & 255] % 8;
    let t0 = 0.5 - x0*x0 - y0*y0;
    if (t0>=0){ t0*=t0; n0 = t0*t0 * this.dot(grad3[gi0], x0, y0); }
    let t1 = 0.5 - x1*x1 - y1*y1;
    if (t1>=0){ t1*=t1; n1 = t1*t1 * this.dot(grad3[gi1], x1, y1); }
    let t2 = 0.5 - x2*x2 - y2*y2;
    if (t2>=0){ t2*=t2; n2 = t2*t2 * this.dot(grad3[gi2], x2, y2); }
    return 70.0 * (n0 + n1 + n2);
  }
  noise3D(){ return this.noise2D(arguments[0], arguments[1] || 0); }
}

/* ===== WebGL detection ===== */
function detectWebGL(){
  try {
    const c = document.createElement('canvas');
    return !!(c.getContext('webgl2') || c.getContext('webgl') || c.getContext('experimental-webgl'));
  } catch(e){ return false; }
}

/* ===== Main initializer (Three.js or Canvas2D fallback) ===== */
(function(){
  const panel = document.getElementById('threeWrap');
  const canvas = document.getElementById('threeCanvas');
  if (!panel || !canvas) { console.warn('No se ha encontrado #threeWrap o #threeCanvas'); return; }

  const noise = new SimplexNoiseInline();
  const state = { hue:0.55, rotX:0, rotY:0, wobble:0 };

  // Map scroll to state (GSAP ScrollTrigger)
  const proxy = { p:0 };
  if (typeof gsap !== 'undefined' && typeof ScrollTrigger !== 'undefined'){
    gsap.registerPlugin(ScrollTrigger);
    gsap.to(proxy, {
      p:1, ease:'none',
      scrollTrigger:{ trigger: document.body, start:'top top', end:'bottom bottom', scrub:0.7 },
      onUpdate(){ const prog = proxy.p; const hue = 0.05 + prog*0.85; const rx = Math.sin(prog*Math.PI*2)*0.12; const ry = Math.cos(prog*Math.PI*1.7)*0.18; const wob = Math.abs(Math.sin(prog*Math.PI*2))*0.9; gsap.to(state,{hue,rotX:rx,rotY:ry,wobble:wob,duration:0.6}); }
    });
  }

  // Optionally hide heavy 3D on very small screens (attribute on element controls visibility)
  const hideOnSmall = panel.dataset.hideOnSmall === "true" && window.matchMedia('(max-width:420px)').matches;
  if (hideOnSmall) { panel.style.display = 'none'; return; }

  const webglAvailable = detectWebGL() && typeof THREE !== 'undefined';
  if (webglAvailable) {
    try {
      const renderer = new THREE.WebGLRenderer({canvas:canvas, antialias:true, alpha:true});
      renderer.setPixelRatio(Math.min(window.devicePixelRatio || 1, 2));
      renderer.setClearColor(0x000000, 0);
      const scene = new THREE.Scene();
      const camera = new THREE.PerspectiveCamera(45, 1.6, 0.1, 100); camera.position.set(0,0,3.6);
      scene.add(new THREE.AmbientLight(0xffffff, 0.6));
      const dl = new THREE.DirectionalLight(0xffffff, 0.9); dl.position.set(3,3,5); scene.add(dl);

      // geometry (reducci√≥n de detalle en m√≥viles)
      const detail = window.innerWidth < 640 ? 2 : (window.innerWidth < 980 ? 3 : 5);
      const geo = new THREE.IcosahedronGeometry(1.05, detail);
      const basePos = new Float32Array(geo.attributes.position.array);
      const mat = new THREE.MeshStandardMaterial({ color: new THREE.Color().setHSL(0.6,0.78,0.52), metalness:0.25, roughness:0.35, emissive:0x001b1b });
      const mesh = new THREE.Mesh(geo, mat); scene.add(mesh);

      // mandelbrot background plane (shader simple)
      const mandelUniforms = { u_time:{value:0}, u_zoom:{value:1.8}, u_offset:{value:new THREE.Vector2(-0.5,0)}, u_aspect:{value:1} };
      const mandelVS = 'varying vec2 vUv; void main(){ vUv = uv; gl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0); }';
      const mandelFS = 'precision highp float; varying vec2 vUv; uniform float u_time; uniform float u_zoom; uniform vec2 u_offset; uniform float u_aspect; vec3 palette(float t){ return vec3(0.5+0.5*cos(6.2831*(t+vec3(0.0,0.33,0.67)))); } void main(){ vec2 uv=vUv-0.5; uv.x *= u_aspect; vec2 c = uv * u_zoom + u_offset; vec2 z = c; int it=0; for(int i=0;i<120;i++){ float x = (z.x*z.x - z.y*z.y) + c.x; float y = (2.0*z.x*z.y) + c.y; z = vec2(x,y); if(dot(z,z) > 16.0){ it=i; break; } } float t = float(it)/120.0; vec3 col = palette(t); gl_FragColor = vec4(col,1.0); }';
      const plane = new THREE.Mesh(new THREE.PlaneGeometry(4,2.4,1,1), new THREE.ShaderMaterial({ uniforms:mandelUniforms, vertexShader:mandelVS, fragmentShader:mandelFS, transparent:true, opacity:0.95 }));
      plane.position.set(0,0,-1.6); scene.add(plane);

      const ring = new THREE.Mesh(new THREE.TorusGeometry(1.6,0.02,12,120), new THREE.MeshBasicMaterial({ color:0xffffff, opacity:0.035, transparent:true })); ring.rotation.x = Math.PI*0.35; scene.add(ring);

      // resize handling
      function resizeThree(){
        const r = panel.getBoundingClientRect();
        const w = Math.max(100, Math.floor(r.width)), h = Math.max(100, Math.floor(r.height));
        renderer.setSize(w, h, false);
        camera.aspect = w/h; camera.updateProjectionMatrix();
        mandelUniforms.u_aspect.value = w/h;
      }
      const ro = new ResizeObserver(resizeThree); ro.observe(panel); resizeThree();

      // animation loop
      const clock = new THREE.Clock();
      function animateThree(){
        const t = clock.getElapsedTime();
        mandelUniforms.u_time.value = t;
        const pos = geo.attributes.position;
        for(let i=0;i<pos.count;i++){
          const ix=i*3, bx=basePos[ix], by=basePos[ix+1], bz=basePos[ix+2];
          const n = noise.noise3D(bx*1.4 + t*0.6, by*1.2 + t*0.7, bz*1.1 + t*0.5) || noise.noise2D(bx*1.4 + t*0.6, by*1.2 + t*0.7);
          const disp = n * 0.06 * (1 + state.wobble);
          pos.array[ix] = bx + disp*(0.9 - Math.abs(by));
          pos.array[ix+1] = by + disp*(0.9 - Math.abs(bx));
          pos.array[ix+2] = bz + disp*0.9;
        }
        pos.needsUpdate = true;
        mesh.rotation.x = 0.15*Math.sin(t*0.6) + state.rotX;
        mesh.rotation.y += 0.004 + state.rotY*0.01;
        mat.color.setHSL(state.hue % 1, 0.78, 0.52);
        renderer.render(scene, camera);
        requestAnimationFrame(animateThree);
      }
      animateThree();

      // expose for debugging
      window.__threeInstance = { renderer, scene, camera, mesh, plane };

      // cleanup
      window.addEventListener('unload', ()=>{ ro.disconnect(); });

      return;
    } catch(e){
      console.warn('Error inicializando Three.js; fallback Canvas2D', e);
    }
  }

  // Canvas2D fallback (si WebGL no disponible)
  (function(){
    const ctx = canvas.getContext('2d');
    const dpr = Math.min(window.devicePixelRatio || 1, 2);
    function resize2D(){
      const r = panel.getBoundingClientRect();
      canvas.style.width = r.width + 'px'; canvas.style.height = r.height + 'px';
      canvas.width = Math.floor(r.width * dpr); canvas.height = Math.floor(r.height * dpr);
      ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    }
    const ro2 = new ResizeObserver(resize2D); ro2.observe(panel); resize2D();

    let t0 = performance.now();
    function draw(){
      const t = (performance.now() - t0)/1000;
      const w = canvas.width / dpr, h = canvas.height / dpr;
      ctx.clearRect(0,0,w,h);
      ctx.fillStyle = 'rgba(0,6,16,0.06)'; ctx.fillRect(0,0,w,h);
      const hue = (state.hue % 1) * 360;
      const g = ctx.createRadialGradient(w*0.5,h*0.5,20,w*0.5,h*0.5,Math.max(w,h)*0.9);
      g.addColorStop(0, `hsla(${hue},80%,60%,0.25)`); g.addColorStop(0.4, `hsla(${(hue+60)%360},70%,45%,0.12)`); g.addColorStop(1, `rgba(0,0,0,0)`);
      ctx.fillStyle = g; ctx.fillRect(0,0,w,h);

      ctx.save(); ctx.translate(w*0.5,h*0.5);
      const radius = Math.min(w,h)*0.24*(1 + 0.06*Math.sin(t*0.9));
      ctx.beginPath();
      const steps = 80;
      for(let i=0;i<=steps;i++){
        const a = (i/steps)*Math.PI*2;
        const nx = Math.cos(a), ny = Math.sin(a);
        const n = noise.noise2D(nx*1.6 + t*0.4, ny*1.9 + t*0.6);
        const r = radius + n * 10 * (1 + state.wobble);
        const x = Math.cos(a)*r, y = Math.sin(a)*r;
        if(i===0) ctx.moveTo(x,y); else ctx.lineTo(x,y);
      }
      ctx.closePath();
      ctx.lineWidth = 2; ctx.strokeStyle = `hsla(${hue},85%,60%,0.9)`; ctx.shadowBlur=18; ctx.shadowColor = `hsla(${hue},85%,60%,0.55)`; ctx.stroke(); ctx.shadowBlur=0;
      ctx.restore();

      ctx.save(); ctx.translate(w*0.5,h*0.5); ctx.rotate(t*0.14 + state.rotY*0.8); ctx.globalAlpha = 0.12;
      ctx.beginPath(); ctx.arc(0,0, radius*1.9, 0, Math.PI*2); ctx.lineWidth=3; ctx.strokeStyle = `hsla(${(hue+40)%360},70%,55%,0.6)`; ctx.stroke(); ctx.restore();

      requestAnimationFrame(draw);
    }
    draw();
    window.addEventListener('unload', ()=>{ ro2.disconnect(); });
  })();

})(); // end initializer
  </script>

  <!-- GSAP micro animations (kept small & respects reduced-motion) -->
  <script>
    (function(){
      if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;
      gsap.registerPlugin(ScrollTrigger);
      gsap.from('#introCard',{y:24,opacity:0,duration:0.9,ease:'power3.out'});
      document.querySelectorAll('section').forEach((sec)=>{
        gsap.from(sec.querySelectorAll('.card, h3, h4, p'),{y:20,opacity:0,duration:0.75,stagger:0.05,scrollTrigger:{trigger:sec,start:'top 85%'}});
      });

      const downloadWrap = document.getElementById('downloadWrap');
      const glow = document.getElementById('downloadGlow');
      if (downloadWrap){
        downloadWrap.addEventListener('mousemove', (e)=>{
          const r = downloadWrap.getBoundingClientRect();
          const x = ((e.clientX - r.left)/r.width)*100;
          const y = ((e.clientY - r.top)/r.height)*100;
          glow.style.setProperty('--x', x + '%');
          glow.style.setProperty('--y', y + '%');
          glow.style.opacity = 1;
        });
        downloadWrap.addEventListener('mouseleave', ()=>{glow.style.opacity = 0});
        downloadWrap.addEventListener('mouseenter', ()=>{gsap.fromTo(downloadWrap,{scale:1},{scale:1.02,duration:0.5,repeat:1,yoyo:true,ease:'power1.inOut'})});
      }
      const contactBtn = document.getElementById('contactBtn');
      if (contactBtn) contactBtn.addEventListener('click', ()=>{ gsap.fromTo('#contactBtn',{y:-6},{y:0,duration:0.6,ease:'bounce.out'}); alert('Email: julianssvr@gmail.com ‚Äî Tel: 317-640-6113'); });
    })();
  </script>

</body>
</html>
